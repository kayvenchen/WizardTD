<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Mana.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">WizardTD</a> &gt; <a href="index.source.html" class="el_package">WizardTD</a> &gt; <span class="el_source">Mana.java</span></div><h1>Mana.java</h1><pre class="source lang-java linenums">package WizardTD;

import processing.core.PApplet;

/**
 * The Mana class represents a mana pool for a wizard in a game.
 * It provides methods to manage and display the wizard's mana.
 * 

 */
public class Mana {
    private float currentMana;
    private float manaCap;
    private float manaGainPerSecond;
    
    /**
     * Initializes a new Mana instance with the specified initial properties.
     *
     * @param initialMana           The initial amount of mana.
     * @param initialManaCap        The maximum mana capacity.
     * @param initialManaGainPerSecond The rate of mana gain per second.
     */
<span class="nc" id="L23">    public Mana(float initialMana, float initialManaCap, float initialManaGainPerSecond) {</span>
<span class="nc" id="L24">        currentMana = initialMana;</span>
<span class="nc" id="L25">        manaCap = initialManaCap;</span>
<span class="nc" id="L26">        manaGainPerSecond = initialManaGainPerSecond;</span>
<span class="nc" id="L27">    }</span>
  
    /**
     * Uses the mana pool spell, increasing mana capacity and gain rate.
     *
     * @param spellInitialCost     The initial cost of the spell.
     * @param costIncreasePerUse   The increase in cost per use.
     * @param capMultiplier        The multiplier for increasing mana capacity.
     * @param manaGainedMultiplier The multiplier for increasing mana gain.
     */
    public void useManaPoolSpell(int spellInitialCost, float capMultiplier, float manaGainedMultiplier) {
<span class="nc bnc" id="L38" title="All 2 branches missed.">        if (currentMana &gt;= spellInitialCost) {</span>
<span class="nc" id="L39">            currentMana -= spellInitialCost;</span>
<span class="nc" id="L40">            manaCap *= capMultiplier;</span>
<span class="nc" id="L41">            manaGainPerSecond *= manaGainedMultiplier;</span>
        }
<span class="nc" id="L43">    }</span>
    
    /**
     * Increases mana over time based on the mana gain per second.
     */
    public void increaseManaOverTime() {
<span class="nc" id="L49">            currentMana += manaGainPerSecond / App.FPS;</span>
<span class="nc" id="L50">            currentMana = App.min(currentMana, manaCap);</span>
<span class="nc" id="L51">    }</span>
    
    /**
     * decrease mana by a specified amount
     * 
     * @param mana the amount to decrease by
     */
    public void decreaseMana(int mana) {
<span class="nc" id="L59">        currentMana -= mana;</span>
<span class="nc" id="L60">    }</span>

    /**
     * Retrieves the current amount of mana.
     *
     * @return The current amount of mana.
     */
    public float getCurrentMana() {
<span class="nc" id="L68">        return currentMana;</span>
    }

    /**
     * Retrieves the maximum mana capacity.
     * 
     * @return The maximum mana capacity.
     */
    public float getManaCap() {
<span class="nc" id="L77">        return manaCap;</span>
    }

    /**
     * Retrieves the rate of mana gain per second.
     *
     * @return The rate of mana gain per second.
     */
    public float getManaGainPerSecond() {
<span class="nc" id="L86">        return manaGainPerSecond;</span>
    }

    /**
     * Sets the current amount of mana to the specified value.
     *
     * @param currentMana The new current mana value to set.
     */
    public void setCurrentMana(float currentMana) {
<span class="nc" id="L95">        this.currentMana = currentMana;</span>
<span class="nc" id="L96">    }</span>

    /**
     * Displays the wizard's mana bar and information on the screen.
     *
     * @param app The PApplet object for drawing and rendering.
     */
    public void displayManaBar(PApplet app) {
<span class="nc" id="L104">        app.text(&quot;MANA: &quot;, 350, 32);</span>

        // Draw the background for the mana bar
<span class="nc" id="L107">        app.fill(255);</span>
<span class="nc" id="L108">        app.stroke(0);</span>
<span class="nc" id="L109">        app.rect(430, 10, 300, 26);</span>

<span class="nc" id="L111">        app.fill(94, 203, 204);</span>
<span class="nc" id="L112">        float manaBarWidth = PApplet.map(currentMana, 0, manaCap, 0, 300);</span>
<span class="nc" id="L113">        app.rect(430, 10, manaBarWidth, 26);</span>
        
        // Draw the wizard's mana information inside the mana bar
<span class="nc" id="L116">        app.fill(0);</span>
<span class="nc" id="L117">        app.text( (int)currentMana + &quot; / &quot; +  (int)manaCap, 500, 32);</span>
<span class="nc" id="L118">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.9.202303310957</span></div></body></html>